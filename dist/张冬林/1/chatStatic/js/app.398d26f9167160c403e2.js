webpackJsonp([13],[,,,,,,,,,function(e,n,t){"use strict";t.d(n,"b",function(){return s});var i=t(20),o=function(e){return e=e.replace(/\n/g,"&lbrg").replace(/\t/g," ")},s=function(e){if(e)return e=e.replace(/&lbrg/g,"<br>").replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)[^\]]/g,function(e,n){return-1!=e.indexOf("7xq4o9")?e:'<a href="'+e+'" target="_blank">'+e+"</a>"}).replace(/face\[([^\s\[\]]+?)\]/g,function(e){var n=e.replace(/^face/g,"");return'<img alt="'+n+'" title="'+n+'" src="'+faces[n]+'">'}).replace(/【(.*?)】/g,function(e,n){var t=i.a.find(function(e){return e.name==n});return t?'<img width="20px"  src="http://www.omso2o.com/chatStatic/emoji/'+t.num+'@2x.png" alt="'+t.name+'" />':e}).replace(/-(file|img|video)-\[(.*?)\]$/g,function(e,n,t){var i="",o=t.split("|");return t[1]&&(-1!==o[0].indexOf("MOV")&&(o[1]=o[1]+"?attname="+o[0].replace("MOV","mp4")),"img"==n?i='<img style="max-width: 200px;" class="chat-img" src="'+o[1]+'" alt="'+o[0]+'" />':"file"==n?i='<div class="chat-file"><share class="iconfont-chat chat-share" data-content="'+e+'">&#xe6cb;</share><a title="'+o[0]+'" href="'+o[1]+'" download target="_blank"><i class="iconfont-chat">&#xe662;</i><p title="'+o[0]+'">'+o[0]+"</p></a></div>":"video"==n&&(i='<video controls="controls" style="width: 200px; height: 200px" src="'+o[1]+'"></video>')),i})};n.a=o},,,,,,,,,,,function(e,n,t){"use strict";var i=[{dh:"weiXiao",name:"微笑",num:"001"},{dh:"pieZui",name:"撇嘴",num:"002"},{dh:"se",name:"色",num:"003"},{dh:"faDai",name:"发呆",num:"004"},{dh:"deYi",name:"得意",num:"005"},{dh:"liuLei",name:"流泪",num:"006"},{dh:"haiXiu",name:"害羞",num:"007"},{dh:"biZui",name:"闭嘴",num:"008"},{dh:"shui",name:"睡",num:"009"},{dh:"daKu",name:"大哭",num:"010"},{dh:"ganGa",name:"尴尬",num:"011"},{dh:"faNu",name:"发怒",num:"012"},{dh:"tiaoPi",name:"调皮",num:"013"},{dh:"ciYa",name:"呲牙",num:"014"},{dh:"jingYa",name:"惊讶",num:"015"},{dh:"nanGuo",name:"难过",num:"016"},{dh:"ku",name:"酷",num:"017"},{dh:"jiong",name:"囧",num:"018"},{dh:"zhuaKuang",name:"抓狂",num:"019"},{dh:"tu",name:"吐",num:"020"},{dh:"touXiao",name:"偷笑",num:"021"},{dh:"keAi",name:"可爱",num:"022"},{dh:"baiYan",name:"白眼",num:"023"},{dh:"aoMan",name:"傲慢",num:"024"},{dh:"jiE",name:"饥饿",num:"025"},{dh:"kun",name:"困",num:"026"},{dh:"jingKong",name:"惊恐",num:"027"},{dh:"liuHan",name:"流汗",num:"028"},{dh:"hanXiao",name:"憨笑",num:"029"},{dh:"youXian",name:"悠闲",num:"030"},{dh:"fenDou",name:"奋斗",num:"031"},{dh:"zhouMa",name:"咒骂",num:"032"},{dh:"yiWen",name:"疑问",num:"033"},{dh:"xu",name:"嘘",num:"034"},{dh:"yun",name:"晕",num:"035"},{dh:"fengLe",name:"疯了",num:"036"},{dh:"shuai",name:"衰",num:"037"},{dh:"kuLou",name:"骷髅",num:"038"},{dh:"qiaoDa",name:"敲打",num:"039"},{dh:"zaiJian",name:"再见",num:"040"},{dh:"caHan",name:"擦汗",num:"041"},{dh:"kouBi",name:"抠鼻",num:"042"},{dh:"guZhang",name:"鼓掌",num:"043"},{dh:"qiuDaLe",name:"糗大了",num:"044"},{dh:"huaiXiao",name:"坏笑",num:"045"},{dh:"zuoHengHeng",name:"左哼哼",num:"046"},{dh:"youHengHeng",name:"右哼哼",num:"047"},{dh:"haQian",name:"哈欠",num:"048"},{dh:"bishi",name:"鄙视",num:"049"},{dh:"weiQu",name:"委屈",num:"050"},{dh:"kuaiKu",name:"快哭",num:"051"},{dh:"yinXian",name:"阴险",num:"052"},{dh:"qinQin",name:"亲亲",num:"053"},{dh:"xia",name:"吓",num:"054"},{dh:"keLian",name:"可怜",num:"055"},{dh:"caiDao",name:"菜刀",num:"056"},{dh:"xiGua",name:"西瓜",num:"057"},{dh:"piJiu",name:"啤酒",num:"058"},{dh:"lanQiu",name:"篮球",num:"059"},{dh:"pingPa",name:"乒乓",num:"060"},{dh:"kaFei",name:"咖啡",num:"061"},{dh:"fan",name:"饭",num:"062"},{dh:"zhuTou",name:"猪头",num:"063"},{dh:"meiGui",name:"玫瑰",num:"064"},{dh:"diaoXie",name:"凋谢",num:"065"},{dh:"zuiChun",name:"嘴唇",num:"066"},{dh:"aiXin",name:"爱心",num:"067"},{dh:"xinSui",name:"心碎",num:"068"},{dh:"danGao",name:"蛋糕",num:"069"},{dh:"shanDian",name:"闪电",num:"070"},{dh:"zhaDan",name:"炸弹",num:"071"},{dh:"dao",name:"刀",num:"072"},{dh:"zouqiu",name:"足球",num:"073"},{dh:"piaoChong",name:"瓢虫",num:"074"},{dh:"bianBian",name:"便便",num:"075"},{dh:"yueLiang",name:"月亮",num:"076"},{dh:"taiYan",name:"太阳",num:"077"},{dh:"liWu",name:"礼物",num:"078"},{dh:"baoBao",name:"抱抱",num:"079"},{dh:"qiang",name:"强",num:"080"},{dh:"ruo",name:"弱",num:"081"},{dh:"woshou",name:"握手",num:"082"},{dh:"shengLi",name:"胜利",num:"083"},{dh:"baoQuan",name:"抱拳",num:"084"},{dh:"gouYin",name:"勾引",num:"085"},{dh:"quanTou",name:"拳头",num:"086"},{dh:"chaJin",name:"差劲",num:"087"},{dh:"aiNi",name:"爱你",num:"088"},{dh:"NO",name:"NO",num:"089"},{dh:"OK",name:"OK",num:"090"},{dh:"aiQing",name:"爱情",num:"091"},{dh:"feiWen",name:"飞吻",num:"092"},{dh:"tiaoTiao",name:"跳跳",num:"093"},{dh:"faDou",name:"发抖",num:"094"},{dh:"ouHuo",name:"怄火",num:"095"},{dh:"zhuanQuan",name:"转圈",num:"096"},{dh:"keTou",name:"磕头",num:"097"},{dh:"huiTou",name:"回头",num:"098"},{dh:"tiaoSheng",name:"跳绳",num:"099"},{dh:"jiDong",name:"激动",num:"100"},{dh:"lunWu",name:"乱舞",num:"101"},{dh:"xianWen",name:"献吻",num:"102"},{dh:"youTaiJi",name:"左太极",num:"103"},{dh:"touXiang",name:"投降",num:"104"}];n.a=i},function(e,n,t){"use strict";var i=function(e,n){if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=n,sel.select();else if(e.selectionStart||"0"==e.selectionStart){var t=e.selectionStart,i=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,t)+n+e.value.substring(i,e.value.length),o>0&&(e.scrollTop=o),e.focus(),e.selectionStart=t+n.length,e.selectionEnd=t+n.length}else e.value+=n,e.focus()};n.a=i},function(e,n,t){"use strict";t.d(n,"b",function(){return i});var i=function(e,n){var t=e.getAsFile(),i=new FileReader;i.onload=function(e){n({src:e.target.result})},i.readAsDataURL(t)},o=function(e){var n,t,i,o=e.clipboardData,s=0;if(!o.items)return insertHtmlAtCaret(o.getData("text/plain"),!0),!1;if(o){if(!(n=o.items))return;for(t=n[0],i=o.types||[];s<i.length;s++)if("Files"===i[s]){t=n[s];break}if(t&&"string"===t.kind)return!1;if(t&&"file"===t.kind&&t.type.match(/^image\//i))return e.preventDefault(),{value:t}}};n.a=o},,,,,,,,function(e,n,t){"use strict";var i=t(11),o=t.n(i),s=t(1),a=t(2),r=t(61),c=t(9),u=t(66),d=t(67),l=t(36),m=t.n(l);s.a.use(a.a),m.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded";var f=(new Date,new a.a.Store({state:{user:{},friends:[{groupname:"全员",id:1,list:[]},{groupname:"好友",id:2,list:[]}],group:[],sessions:[],indexTab:1,currentSession:{id:"",name:"",img:""},currentSessionType:"message",filterKey:"",searchFriend:[],userSet:{voice:0,desktop:0},iPhone:!1,videoResAnswerCallBack:function(){}},mutations:{INIT_DATA:function(e,n){(function(){for(var e=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=!1,i=0;i<n.length;i++)if(e.indexOf(n[i])>0){t=!0;break}return t})()&&(e.iPhone=!0),e.user.id=n.data.mine.id,e.user.name=n.data.mine.username,e.user.omsId=n.data.mine.oms_id,e.user.img=n.data.mine.avatar?n.data.mine.avatar:"/chat/images/niming.png",e.friends=n.data.friend,e.group=n.data.group;var t=localStorage.getItem("vue-chat-session"+e.user.id),i=localStorage.getItem("chat-set"),o=[],s="all"+e.user.omsId;if(t){if(o=JSON.parse(t),o.forEach(function(e,n){"all"==e.id&&o.splice(n,1)}),!o.find(function(e){return e.id==s})){var a=new Date;o.unshift({id:s,user:{name:"全员群",img:"/chat/images/ren.png"},messageNum:0,type:"groupMessage",messages:[{id:"5057",content:"所有人的群",img:"/chat/images/ren.png",name:"系统",date:a}]})}}else{var r=new Date;o.push({id:s,user:{name:"全员群",img:"/chat/images/ren.png"},messageNum:0,type:"groupMessage",messages:[{id:"5057",content:"所有人的群",img:"/chat/images/ren.png",name:"系统",date:r}]})}e.sessions=o,i&&(e.userSet=JSON.parse(i))},SEND_MESSAGE:function(e,n){var t=e.sessions,i=e.currentSession,o=e.user,s=e.friends,a=(e.currentSessionType,e.group);if(0==n.code)return"groupMessage"==n.type&&t.forEach(function(e,i){e.id==n.dialogueId&&t.splice(i,1)}),alert(n.msg),!1;var r={},c=t.find(function(e){return e.id==n.dialogueId&&e.type===n.type});if(n.senderId==o.id)r={id:n.id,content:n.content,date:new Date,self:!0,accept_id:n.accept_id,revokeState:n.revokeState};else{var u="";n.date&&(u=new Date(1e3*n.date)),r={id:n.id,content:n.content,date:u||new Date,accept_id:n.accept_id,revokeState:n.revokeState}}if(c){if(n.dialogueId!=i.id&&n.senderId!=o.id&&c.messageNum++,c.messages.length>20&&c.messages.shift(),r.img=c.user.img,r.name=c.user.name,"groupMessage"==n.type){var d=void 0,l=s[1].list.find(function(e){return e.id==n.senderId});d=l||s[2].list.find(function(e){return e.id==n.senderId}),r.name=d.username,r.img=d.avatar}c.messages.push(r);var m=0;for(var f in t)if(t[f].id==n.dialogueId&&t[f].type===n.type){m=f;break}0!=m&&t.unshift(t.splice(m,1)[0])}else{var h={};if("groupMessage"!=n.type){console.log(n.dialogueId);var g=s[1].list.find(function(e){return e.id==n.dialogueId});h=g||s[2].list.find(function(e){return e.id==n.dialogueId}),h.name=h.username,r.name=h.username,r.img=h.avatar}else{var p="";console.log(n.dialogueId),h=a.find(function(e){return e.id==n.dialogueId}),h.name=h.groupname;var v=s[1].list.find(function(e){return e.id==n.senderId});p=v||s[2].list.find(function(e){return e.id==n.senderId}),r.name=p.username,r.img=p.avatar}c={id:n.dialogueId,user:{name:h.name,img:h.avatar},messageNum:0,type:n.type,messages:[]},n.dialogueId!=i.id&&n.senderId!=o.id&&c.messageNum++,c.messages.push(r),t.unshift(c)}},MES_CLOSE:function(e,n){e.state;e.sessions.find(function(e){return e.id==n.session_no&&e.type===n.message_type}).messageNum=0},SELECT_SESSION:function(e,n){var t=e.sessions.find(function(e){return e.id==n.id&&e.type==n.type});t&&0!=t.messageNum&&r.a.sendMessage({type:"mes_close",to_uid:n.id,session_no:n.id,message_type:n.type}),t&&0!=t.messageNum&&(t.messageNum=0),e.currentSession.id=n.id,e.currentSession.name=n.name,e.currentSession.img=n.img,e.currentSessionType=n.type},DELSESSION:function(e,n){e.sessions.splice(n,1)},SIGNREADED:function(e,n){n.num?e.sessions[n.index].messageNum=0:e.sessions[n.index].messageNum=1},SELECT_TAB:function(e,n){e.indexTab=n},SET_FILTER_KEY:function(e,n){e.filterKey=n},USER_SET:function(e,n,t){console.log(e.userSet)},CLEAR_SESSION:function(e){e.currentSession.id="",e.currentSession.name="",e.currentSession.img=""},FRIEND_DEL:function(e,n){for(var t in e.friends[0].list)if(e.friends[0].list[t].id==n){e.friends[0].list.splice(t,1);break}},FRIENDS_STATE_CHANGE:function(e,n){for(var t in e.friends[0].list)if(e.friends[0].list[t].id==n){e.friends[0].list[t].state=0;break}},REVOKE_SEND:function(e,n){var t={type:"revoke",messageId:n};r.a.sendMessage(t)},REVOKE:function(e,n){e.sessions.forEach(function(e,t){var i=!1;e.messages.forEach(function(e,t){if(e.id==n.message_id)return console.log(e),i=!0,e.content="已撤销",void(e.revokeState=1)})})}},actions:{initData:function(e,n){var t=e.commit,i=e.dispatch;r.a.on("open",function(){r.a.sendMessage({type:"login",oms_id:n.data.mine.oms_id,uid:n.data.mine.id,header_img_url:n.data.mine.avatar,token:n.data.mine.token,client_name:n.data.mine.username,room_id:n.data.mine.oms_id})}),r.a.on("comeMessage",function(e){var n=e.type;i(n,e)}),r.a.connect(),t("INIT_DATA",n)},sendMessage:function(e,n){var i=(e.commit,e.state),o={};n.dialogueId=i.currentSession.id,n.senderId=i.user.id,n.name=i.currentSession.name,n.img=i.currentSession.img,n.type=i.currentSessionType,n.content=t.i(c.a)(n.content),o={type:"sayUid",to_uid:i.currentSession.id,groupId:0,accept_name:i.currentSession.name,message_type:i.currentSessionType,mes_types:"text",content:n.content},"message"!=i.currentSessionType&&(o.session_no=i.currentSession.id),r.a.sendMessage(o)},videoRes:function(e,n){var t=(e.commit,e.state);r.a.sendMessage({type:"videoChat",to_uid:t.currentSession.id})},videoResAnswerIng:function(e,n){e.state;r.a.sendMessage({type:"videoResAnswer",to_uid:n.to_uid,token:n.token})},batchSendMessage:function(e,n){var t=(e.commit,e.state,void 0);t={type:"sayUid",to_uid:n.id,groupId:0,accept_name:n.name,message_type:n.type,mes_types:"text",content:n.content},"message"!=n.type&&(t.session_no=n.id),r.a.sendMessage(t)},acceptMes:function(e,n){var t=e.commit,i=e.state,o=void 0,s=void 0;return n&&n.forEach(function(e){s="message"==e.message_type?e.sender_id:e.session_no;var n=i.sessions.find(function(n){return n.id==s&&n.type===e.message_type});if(n){var a=n.messages.find(function(n){return n.id==e.id});if(a)return a.revokeState=e.revokeState,!1}o={id:e.id,content:e.message_content,senderId:e.sender_id,dialogueId:s,type:e.message_type,date:e.create_time,accept_id:e.accept_id,revokeState:e.revokeState,acceptMode:"h"},o.code=1,t("SEND_MESSAGE",o)}),!1},selectSession:function(e,n){(0,e.commit)("SELECT_SESSION",n)},delSession:function(e,n){(0,e.commit)("DELSESSION",n)},signReaded:function(e,n){(0,e.commit)("SIGNREADED",n)},selectTab:function(e,n){return(0,e.commit)("SELECT_TAB",n)},search:function(e,n){return(0,e.commit)("SET_FILTER_KEY",n)},userSet:function(e,n,t){return(0,e.commit)("USER_SET",n,t)},clearSession:function(e){return(0,e.commit)("CLEAR_SESSION")},friendDel:function(e,n){return(0,e.commit)("FRIEND_DEL",n)},friendsStateChange:function(e,n){return(0,e.commit)("FRIENDS_STATE_CHANGE",n)},revokeSend:function(e,n){return(0,e.commit)("REVOKE_SEND",n)}},modules:{events:u.a,video:d.a}}));f.watch(function(e){return e.sessions},function(e){var n=f.state.user.id;localStorage.setItem("vue-chat-session"+n,o()(e))},{deep:!0}),f.watch(function(e){return e.currentSession},function(e){var n=e.id;n||(n=0);var t={type:"selectSession",dialogueId:n};r.a.sendMessage(t)},{deep:!0}),n.a=f},function(e,n,t){t(100),t(101);var i=t(3)(t(54),t(128),"data-v-22a805ff",null);e.exports=i.exports},,,,,,,,,,,,,,,,,,,,,,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),o=t(2),s=t(32),a=t(122),r=t.n(a),c=t(125),u=t.n(c),d=t(124),l=t.n(d),m=t(127),f=t.n(m),h=t(126),g=t.n(h);t(99),i.a.component("imgFd",function(e){t.e(3).then(function(){var n=[t(141)];e.apply(null,n)}.bind(this)).catch(t.oe)}),i.a.component("persInfo",function(e){t.e(2).then(function(){var n=[t(35)];e.apply(null,n)}.bind(this)).catch(t.oe)}),i.a.component("searchOrg",function(e){t.e(8).then(function(){var n=[t(145)];e.apply(null,n)}.bind(this)).catch(t.oe)}),i.a.component("videoChat",function(e){t.e(6).then(function(){var n=[t(147)];e.apply(null,n)}.bind(this)).catch(t.oe)}),i.a.component("video-res",function(e){t.e(5).then(function(){var n=[t(149)];e.apply(null,n)}.bind(this)).catch(t.oe)}),i.a.component("video-chat-ing",function(e){t.e(4).then(function(){var n=[t(148)];e.apply(null,n)}.bind(this)).catch(t.oe)}),i.a.use(s.a),n.default={name:"app",components:{Card:r.a,menuList:u.a,List:l.a,Message:g.a,TextAre:f.a},computed:t.i(o.b)({complete:function(e){return e.events.complete},mesNum:function(e){var n=0;return e.sessions.forEach(function(e){n+=e.messageNum}),n},videoChatShow:function(e){return e.events.videoChatShow},videoChatInfo:function(e){return e.events.videoChatInfo}}),data:function(){return{chatMainShow:!1,mainShow:!1,dImgShow:!1,imgSrc:"",persInfo:!1,searchFriendShow:!1,videoChat:!1,videoChatType:"",videochatIngInfo:{},videoChatIngShow:!1,iPhone:!1}},mounted:function(){var e=this;(function(){for(var e=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=!1,i=0;i<n.length;i++)if(e.indexOf(n[i])>0){t=!0;break}return t})()&&(this.iPhone=!0,this.mainShow=!0),document.onkeydown=function(n){27==n.keyCode&&(e.chatMainShow=!e.chatMainShow)};this.$http.get("/omsIm/demo/json/getList.php").then(function(n){e.$store.dispatch("initData",n.data),e.$http.get("/omsIm/demo/json/getList.php?class=mesNum").then(function(n){e.$store.dispatch("acceptMes",n.data.reverse()),e.iPhone&&e.$http.get("/omsIm/demo/json/getList.php?class=appPush&mesNum="+e.mesNum).then(function(e){}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},methods:{imgShow:function(e){this.imgSrc=e,this.dImgShow=!0},uiShow:function(e,n){"addFriend"==n&&(this.searchFriendShow=!0)},listR:function(e,n){"friendAdd"==n&&(this.searchFriendShow=!0)},controller:function(e){"videoChat"==e.type&&(this.videoChat=!0,this.videoChatType="videoChat"),"close"==e.type&&(this.videoChat=!1),"videoShow"==e.type&&(this.videoChatIngShow=!0,this.videochatIngInfo=e.para)},videoResConttroll:function(e){"close"==e.type?this.$store.dispatch("videoChatShowChange"):"videoShow"==e.type&&(this.videoChatIngShow=!0,this.videochatIngInfo=e.para)},videoChatIng:function(e){"close"==e.type&&(this.videoChatIngShow=!1)}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),o=t(2);i.a.component("onlineMan",function(e){t.e(9).then(function(){var n=[t(144)];e.apply(null,n)}.bind(this)).catch(t.oe)}),n.default={data:function(){return{onlineShow:!1}},computed:t.i(o.b)({user:function(e){return e.user},filterKey:function(e){return e.filterKey},online:function(e){return e.events.onlineMan}}),methods:{onKeyup:function(e){this.$store.dispatch("search",e.target.value)},onlineShowFun:function(){this.onlineShow=!this.onlineShow}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(33),o=t.n(i),s=(t(1),t(2));n.default={name:"friend-list",data:function(){return{openFun:!1}},props:["item"],computed:o()({newFriendNum:function(){var e=0;for(var n in this.item.list)1==this.item.list[n].state&&e++;return e}},t.i(s.b)({currentId:function(e){return e.currentSession.id}})),methods:{open:function(){this.openFun=!this.openFun},selectSession:function(e,n,t,i,o,s){if(1==o)return this.$emit("friendsApple",s.id,s.state),!1;this.$emit("fmainShow");var a={id:e,type:n,name:t,img:i};this.$store.dispatch("selectSession",a)}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),o=t(2),s=t(123),a=t.n(s),r=t(63),c=t(7),u=t.n(c),d=t(8),l=t.n(d);i.a.use(l.a,{AlloyFinger:u.a}),t.i(r.a)(i.a),i.a.component("friendApply",function(e){t.e(11).then(function(){var n=[t(142)];e.apply(null,n)}.bind(this)).catch(t.oe)}),n.default={data:function(){return{mousedownShow:!1,mousedowInfo:{id:1,index:1},friendApplyShow:!1,friendApplyId:0,friendsApplyState:0}},components:{friendsList:a.a},methods:{selectSession:function(e,n,t,i){this.$emit("mainShow");var o={id:e,type:n,name:t,img:i};this.$store.dispatch("selectSession",o)},searchSelectSession:function(e,n,t,i,o){if("新好友"==o)return this.friendApplyShow=!0,this.friendApplyId=uid,void(this.friendsApplyState=state);this.$emit("mainShow");var s={id:e,type:n,name:t,img:i};this.$store.dispatch("selectSession",s)},mousedown:function(e,n,t){var i=this;3==t.which&&(this.mousedownShow=!0,this.$nextTick(function(){i.$refs.recentContactsDel.style.top=t.pageY+2+"px",i.$refs.recentContactsDel.style.left=t.pageX+2+"px"}),this.mousedowInfo.id=e.id,this.mousedowInfo.index=n)},removeZjlxr:function(){this.$store.dispatch("delSession",this.mousedowInfo.index)},open:function(e){var n=this.$refs.group[e].style,t=this.$refs.group[e].style.display;n.display="none"==t?"block":"none"},friendApply:function(e,n){this.friendApplyShow=!0,this.friendApplyId=e,this.friendsApplyState=n},perInfo:function(e){"message"==e&&this.$emit("perInfoShow")},swipe:function(e){for(var n=e.target,t=n.parentNode,i=n,o=0;o<6;o++){if("LI"==t.nodeName){i=t;break}t=t.parentNode}var s=e.direction;i.style.left="Left"==s?"-180px":"0px"},delzjlxr:function(e,n){this.$store.dispatch("delSession",e),this.swipe(n)},signReaded:function(e,n,t){this.$store.dispatch("signReaded",{index:e,num:n}),this.swipe(t)}},filters:{time:function(e){return"string"==typeof e&&(e=new Date(e)),e.getHours()+":"+e.getMinutes()},content:function(e){return e?e=e.replace(/<img.*?(?:>|\/>)/gi,function(e){return e.includes("20px")?"【表情】":"【图片】"}).replace(/&lbrg/,"").replace(/<div.*\>/gi,function(e){return"【文件】"}):""}},computed:t.i(o.b)({currentId:function(e){return e.currentSession.id},currentType:function(e){return e.currentSessionType},sessions:function(e){return e.sessions},searchFriend:function(e){if(""==e.filterKey)return[];var n=[],t={};for(var i in e.friends)t={},e.friends[i].list&&(t.list=e.friends[i].list.filter(function(n){return n.username.includes(e.filterKey)}),t.name=e.friends[i].groupname,n.push(t));return n},searchGroup:function(e){return""==e.filterKey?[]:e.group.filter(function(n){return n.groupname.includes(e.filterKey)})},indexTab:function(e){return e.indexTab},friends:function(e){return e.friends},group:function(e){return e.group},filterKey:function(e){return e.filterKey},user:function(e){return e.user}}),created:function(){var e=this;document.addEventListener("click",function(n){e.mousedownShow&&(e.mousedownShow=!e.mousedownShow)})}},i.a.directive("oncontextmenu",{bind:function(e){e.oncontextmenu=function(){return!1}}})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(11),o=t.n(i),s=(t(1),t(2));n.default={data:function(){return{selfInfo:!1,setShow:!1,sets:{voice:["开启声音","关闭声音"],desktop:["开启桌面通知","关闭桌面通知"]}}},computed:t.i(s.b)({user:function(e){return e.user},filterKey:function(e){return e.filterKey},indexTab:function(e){return e.indexTab},userSet:function(e){return e.userSet},newFriendNum:function(e){var n=0;for(var t in e.friends[0].list)1==e.friends[0].list[t].state&&n++;return n}}),methods:{selectTab:function(e){this.$store.dispatch("selectTab",e)},showInfo:function(e){this.selfInfo=!this.selfInfo},setUser:function(e){var n=this.userSet;n[e]=0==n[e]?1:0,this.$store.dispatch("userSet",e,n[e]),localStorage.setItem("chat-set",o()(n))},addFriend:function(){}},created:function(){var e=this;document.addEventListener("click",function(n){e.selfInfo&&(e.selfInfo=!e.selfInfo),e.setShow&&(e.setShow=!e.setShow)})}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(2),o=t(1),s=t(21),a=t(9),r=t(7),c=t.n(r),u=t(8),d=t.n(u);o.a.use(d.a,{AlloyFinger:c.a});var l=!1;o.a.component("messagesLog",function(e){t.e(0).then(function(){var n=[t(34)];e.apply(null,n)}.bind(this)).catch(t.oe)}),o.a.component("persInfo",function(e){t.e(2).then(function(){var n=[t(35)];e.apply(null,n)}.bind(this)).catch(t.oe)}),o.a.component("groupMan",function(e){t.e(10).then(function(){var n=[t(143)];e.apply(null,n)}.bind(this)).catch(t.oe)}),o.a.component("shareModel",function(e){t.e(1).then(function(){var n=[t(140)];e.apply(null,n)}.bind(this)).catch(t.oe)}),n.default={data:function(){return{showMessageLog:!1,persInfo:!1,groupManShow:!1,shareShow:!1,shareContent:"",playComplete:!1,forwardInfo:{mouseLeftShow:!1,forwardContent:"",forwardId:0,messageOfSelf:!1}}},computed:t.i(i.b)({user:function(e){return e.user},session:function(e){return e.sessions.find(function(n){return n.id==e.currentSession.id&&n.type==e.currentSessionType})},dialogName:function(e){return e.currentSession.name},dialogImg:function(e){return e.currentSession.img},dialogId:function(e){return e.currentSession.id},dialogType:function(e){return e.currentSessionType},iPhone:function(e){return e.iPhone}}),filters:{time:function(e){return"string"==typeof e&&(e=new Date(e)),e.getFullYear()+"-"+(parseInt(e.getMonth())+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},methods:{content:function(e,n){return-1!==e.indexOf("-voice-[")?e=e.replace(/-(voice)-\[(.*?)\]/g,function(e,t,i){var o="",s=i.split("|");return i[1]&&(o=n?'<voice class="iconfont-chat" data-content="'+s[1]+'">&#xe604;<i class="playingRight"></i></voice>':'<voice class="iconfont-chat" data-content="'+s[1]+'">&#xe605;<i class="playingLeft"></i></voice>'),o}):t.i(a.b)(e)},sendType:function(e){var n=this;if("IMG"==e.target.nodeName){var t=e.target.src;this.$emit("enlarge",t)}"SHARE"==e.target.nodeName&&(this.shareContent=e.target.getAttribute("data-content"),this.shareShow=!0),"VOICE"==e.target.nodeName&&(this.$refs.audio.onended=function(){n.playComplete=!1,e.target.children[0].style.display="none"},this.$refs.audio.src=e.target.getAttribute("data-content"),e.target.children[0].style.display="inline-block",this.$refs.audio.play(),this.playComplete=!0),e.currentTarget.parentNode.childNodes[0].style.display="none",l=!1},clearSession:function(){this.$emit("mainShow"),this.$store.dispatch("clearSession")},userInfo:function(){if("groupMessage"==this.dialogType)return this.groupManShow=!this.groupManShow,!1;this.persInfo=!0},appoint:function(e){"message"!=this.dialogType&&e&&(this.iPhone?t.i(s.a)(document.getElementById("chat-input"),"@"+e+"  "):t.i(s.a)(document.getElementsByTagName("textarea")[0],"@"+e+"  "))},mousedown:function(e,n){e.which},mouseLeft:function(e,n,t,i){var o=e.pageX,s=e.pageY;this.forwardInfo.mouseLeftShow=!0,this.$nextTick(function(){this.$refs.mouseLeft.style.top=s+2+"px",this.$refs.mouseLeft.style.left=o+2+"px"}),this.forwardInfo.forwardContent=n,this.forwardInfo.forwardId=t,this.forwardInfo.messageOfSelf=i,l=!0},revoke:function(){this.$store.dispatch("revokeSend",this.forwardInfo.forwardId)},share:function(e){var n={};for(var t in e)return n.senderId=this.user.id,n.name=e[t].name,n.img=e[t].avatar,n.type=e[t].type,n.id=e[t].id,n.content=this.shareContent,n.content?(this.$store.dispatch("batchSendMessage",n),void alert("已分享！")):(alert("分享失败！"),!1)},longTop:function(e){for(var n=e.target,t=n.parentNode,i=0;i<6;i++){if("content-box"==t.getAttribute("class")){"none"==t.children[0].style.display||""==t.children[0].style.display?t.children[0].style.display="block":t.children[0].style.display="none";break}t=t.parentNode}e.stopPropagation(),l=!0},messageImgFd:function(e){this.$emit("enlarge",e)},contentAct:function(e,n){var t=n.currentTarget;"none"==t.children[0].style.display||""==t.children[0].style.display?t.children[0].style.display="block":t.children[0].style.display="none"},forward:function(e){this.shareShow=!0,this.shareContent=e}},created:function(){var e=this;document.addEventListener("click",function(n){e.groupManShow=!1,e.forwardInfo.mouseLeftShow=!1,l=!1})}},o.a.directive("chat-drop",{bind:function(e){o.a.nextTick(function(){var n=document.getElementById("chat-main");e.onmousedown=function(e){var e=e||window.event,t=n.offsetWidth/2,i=e.clientX-n.offsetLeft-t,o=e.clientY-n.offsetTop;document.onmousemove=function(e){var e=e||window.event;n.style.left=e.clientX-i+"px",n.style.top=e.clientY-o+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}})}}),o.a.directive("scroll-bottom",function(e,n){o.a.nextTick(function(){for(var n=e.getElementsByTagName("img"),t=0,i=0,o=0;o<=n.length-1;o++)"chat-img"==n[o].getAttribute("class")&&(t++,n[o].onload=function(){s()});var s=function(){++i==t&&(e.scrollTop=e.scrollHeight-e.clientHeight)};if(l)return!1;e.scrollTop=e.scrollHeight-e.clientHeight})})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(2),o=t(1),s=t(21),a=t(62),r=t(20),c=t(22),u=t(113),d=(t.n(u),t(112)),l=(t.n(d),t(7)),m=t.n(l),f=t(8),h=t.n(f);o.a.use(h.a,{AlloyFinger:m.a}),o.a.component("messagesLog",function(e){t.e(0).then(function(){var n=[t(34)];e.apply(null,n)}.bind(this)).catch(t.oe)}),o.a.component("sendImg",function(e){t.e(7).then(function(){var n=[t(146)];e.apply(null,n)}.bind(this)).catch(t.oe)}),n.default={data:function(){return{content:"",selShow:!1,currentSel:1,emShow:!1,emojis:r.a,showMessageLog:!1,iphoneText:!1,sendImgShow:!1,sendImgSrcU:"",luyin:!1,recording:{mediaRec:"",src:""},sondShow:!1,progressShow:!1}},computed:t.i(i.b)({start:function(e){return e.currentSession.id},user:function(e){return e.user}}),methods:{onKeydown:function(e){var n=this.$refs.textarea.value;if(0==this.currentSel)e.ctrlKey&&13===e.keyCode&&n&&this.send();else{if(e.shiftKey||e.ctrlKey)return;e.preventDefault(),13===e.keyCode&&n.length&&this.send()}},send:function(){var e=this.$refs.textarea;if(!e.value)return!1;var n={content:e.value};e.value="",this.content="",this.$store.dispatch("sendMessage",n)},changeSend:function(e){this.currentSel=e,localStorage.setItem("currentSel",e)},emojiInsert:function(e){t.i(s.a)(this.$refs.textarea,"【"+e.name+"】"),this.content=this.$refs.textarea.value},fileUpload:function(e){var n=this,t="",i=this,o="",s=[];if(void 0===(s=void 0===e.target?e:e.target.files))return!1;for(var r=0;r<s.length;r++)!function(){t=s[r],o=/image\/\w+/.test(t.type)?"img":"file";var e=(Math.floor(t.size/1024),t.name),c=(new Date).getTime(),u=n.user.id,d=n.start;-1!==t.type.indexOf("quicktime")&&(e=t.name.replace("MOV","mp4")),n.progressShow=!0;var l=n;a.a.on("progress",function(e){var n=Math.round(100*e.loaded/e.total);100!=n?l.$refs.runer.style.width=(100-n).toString()+"%":l.progressShow=!1}),a.a.Qiniu_upload({key:"/file/"+u+"/"+d+"/"+c+"/"+e,tokenurl:"/chat/uptoken.php",f:t,QiniuUrl:"http://up.qiniu.com"},function(e){if(e.error)alert(e.err);else{var n="";n="file"==o?{content:"-file-["+e.fname+"|http://7xq4o9.com1.z0.glb.clouddn.com/"+e.key+"]"}:{content:"-img-["+e.fname+"|http://7xq4o9.com1.z0.glb.clouddn.com/"+e.key+"]"},i.$store.dispatch("sendMessage",{content:n.content})}})}()},pasteOver:function(e){var n=this,i=t.i(c.a)(e),o="";i&&(o=i.value,t.i(c.b)(o,function(e){var t=e.src,i=void 0,o=void 0,s=t.substring(22);o=t.substring(22);var r=s.indexOf("=");(new Date).getTime(),n.user.id,n.start;o.indexOf("=")>0&&(o=s.substring(0,r));var c=o.length,c=parseInt(c-c/8*2),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],d=function(e){for(var n="",t=0;t<e;t++){var i=Math.ceil(35*Math.random());n+=u[i]}return n}(10);i="putb64/-1/"+d+".png",a.a.getQiniuToken("/chat/uptoken.php",function(e){n.uploadBase64(s,e,i,function(e){console.log(e.key),n.sendImgSrcU=e.key,n.sendImgShow=!0})})}))},uploadBase64:function(e,n,t,i){var o="http://upload.qiniu.com/"+t,s=new XMLHttpRequest;s.onreadystatechange=function(){4==s.readyState&&i(JSON.parse(s.responseText))},s.open("POST",o,!0),s.setRequestHeader("Content-Type","application/octet-stream"),s.setRequestHeader("Authorization","UpToken "+n),s.send(e)},dropFile:function(e){e.preventDefault();var n=e.dataTransfer.files;if(0==n.length)return!1;this.fileUpload(n)},recorded:function(){var e=this;this.luyin=!this.luyin,{initialize:function(){document.addEventListener("deviceready",this.onDeviceReady.bind(this),!1)},onDeviceReady:function(){var n=(new Date).getTime()+".m4a";e.recording.src=n,e.recording.mediaRec=new Media(n,function(){console.log("recordAudio():Audio Success")},function(e){console.log("recordAudio():Audio Error: "+e)})}}.initialize()},startRecording:function(e){this.sondShow=!0,this.recording.mediaRec.startRecord()},stopRecording:function(e){function n(e){for(var n=e.split(","),t=n[0].match(/:(.*?);/)[1],i=atob(n[1]),o=i.length,s=new Uint8Array(o);o--;)s[o]=i.charCodeAt(o);return new Blob([s],{type:t})}function t(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}this.sondShow=!1;var i=this;this.recording.mediaRec.stopRecord(),this.recording.mediaRec.release(),navigator.userAgent.indexOf("oks_ltd_android")>0?resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(e){e.getFile(i.recording.src,{},function(e){e.file(function(e){var n=new FileReader;n.onloadend=function(){o(this.result)},n.readAsDataURL(e)},function(e){console.log(e)})},function(e){console.log(e)})},function(e){console.log(e)}):window.requestFileSystem(window.TEMPORARY,0,function(e){e.root.getFile(i.recording.src,{},function(e){e.file(function(e){var n=new FileReader;n.onloadend=function(){o(this.result)},n.readAsDataURL(e)})})});var o=function(e){a.a.Qiniu_upload({key:"/voice/voicefile"+t()+".m4a",tokenurl:"/chat/uptoken.php",f:n(e),QiniuUrl:"http://up.qiniu.com"},function(e){if(e.error)alert("发送失败！请重新发送");else{var n="";n={content:"-voice-["+e.fname+"|http://7xq4o9.com1.z0.glb.clouddn.com/"+e.key+"]"},i.$store.dispatch("sendMessage",{content:n.content})}navigator.userAgent.indexOf("oks_ltd_android")>0?resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(e){e.getFile(i.recording.src,{},function(e){e.remove(function(){console.log("删除成功！")},errorHandler)},errorHandler)},errorHandler):window.requestFileSystem(window.TEMPORARY,0,function(e){e.root.getFile(i.recording.src,{},function(e){e.remove(function(){console.log("删除成功！")})})})})}},inFocus:function(){setTimeout("window.scrollTo(0, 10000);console.log(44)",200),this.emShow&&(this.emShow=!this.emShow),this.selShow&&(this.selShow=!this.selShow)},messageImgFd:function(e){this.$emit("enlarge",e)},video:function(){confirm("你确定要和他视频吗？")&&this.$emit("route",{type:"videoChat"})},HeightAuto:function(e){var n=e.target,t=n.scrollHeight,i=this.$refs.textareaBox;t<190&&t>=70?(n.setAttribute("style","height:"+t+"px;overflow:auto;"),i.style.height=50+t-70-30+"px"):t<70&&n.setAttribute("style","height:70px;overflow:auto;")}},created:function(){var e=this;(function(){for(var e=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=!1,i=0;i<n.length;i++)if(e.indexOf(n[i])>0){t=!0;break}return t})()&&(this.iphoneText=!0);var n=localStorage.getItem("currentSel");this.$nextTick(function(){e.iphoneText,document.addEventListener("click",function(n){e.emShow&&(e.emShow=!e.emShow),e.selShow&&(e.selShow=!e.selShow)})}),null!=n&&(this.currentSel=parseInt(n))},watch:{content:function(e){if(""==e&&this.iphoneText){var n=this.$refs.textareaBox,t=this.$refs.textarea;n.style.height="50px",t.setAttribute("style","height:70px;overflow:auto;")}}}}},function(e,n,t){"use strict";var i=t(11),o=t.n(i),s="",a={},r={COME_MESSAGE:function(e){var n=JSON.parse(e.data);a.comeMessage&&a.comeMessage(n)},SEND_MESSAGE:function(e){var n=o()(e);s.send(n)},OPEN:function(){a.open&&a.open()},TEXT:function(){a.text()}},c={on:function(e,n){a[e]=n},sendMessage:function(e){r.SEND_MESSAGE(e)},connect:function(){s=new WebSocket("ws:"+document.domain+":7272"),s.onopen=r.OPEN,s.onmessage=r.COME_MESSAGE;s.onclose=function(){console.log("连接关闭，定时重连")},s.onerror=function(){console.log("出现错误")}}};n.a=c},function(e,n,t){"use strict";var i=function(){this.v=1};i.prototype.getQiniuToken=function(e,n){var t,i;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.onreadystatechange=function(){4==t.readyState&&n(200==t.status?t.responseText:t.responseText)},i=e,t.open("GET",i,!0),t.send()},i.prototype.Qiniu_upload=function(e,n){var e=e||{key:"",tokenurl:"",f:"",QiniuUrl:""},t=this;this.getQiniuToken(e.tokenurl,function(i){var o=new XMLHttpRequest;o.open("POST",e.QiniuUrl,!0);var s;s=new FormData,null!==e.key&&void 0!==e.key&&s.append("key",e.key),s.append("token",i),s.append("file",e.f);var a;o.upload.addEventListener("progress",function(e){if(e.lengthComputable){var n=(new Date).getTime();a=n-void 0;e.loaded;"undefined"!=t.callback.progress&&t.callback.progress(e)}},!1),o.onreadystatechange=function(e){if(4==o.readyState&&200==o.status&&""!=o.responseText){var t=JSON.parse(o.responseText);return"function"==typeof n&&n(t),!1}if(200!=o.status&&o.responseText){var t=JSON.parse(o.responseText);return"function"==typeof n&&n(t),!1}},o.send(s)})},i.prototype.callback={},i.prototype.on=function(e,n){this.callback[e]=n};var o=new i;n.a=o},function(e,n,t){"use strict";n.a=function(e){e.directive("touch",{bind:function(e,n,t){function i(e,n){return 180*Math.atan2(n,e)/Math.PI}function o(e,n,t,o){var s=n-o,a=t-e,r=0;if(Math.abs(a)<2&&Math.abs(s)<2)return r;var c=i(a,s);return c>=-45&&c<45?r="swiperight":c>=45&&c<135?r="swipeup":c>=-135&&c<-45?r="swipedown":(c>=135&&c<=180||c>=-180&&c<-135)&&(r="swipeleft"),r}var s,a,r=n.arg,c=0,u="";e.addEventListener("touchstart",function(e){s=e.touches[0].pageX,a=e.touches[0].pageY,c=setTimeout(function(){c=0,"press"===r&&n.value()},500)},!1),e.addEventListener("touchmove",function(e){clearTimeout(c),c=0}),e.addEventListener("touchend",function(e){var t,i;switch(t=e.changedTouches[0].pageX,i=e.changedTouches[0].pageY,u=o(s,a,t,i),clearTimeout(c),u){case 0:break;case"swipeup":"swipeup"===r&&n.value();break;case"swipedown":"swipedown"===r&&n.value();break;case"swipeleft":"swipeleft"===r&&n.value();break;case"swiperight":"swiperight"===r&&(console.log(n.value),n.value())}},!1)}})}},function(e,n,t){"use strict";var i=function(e,n,t){var i=window.Notification||window.mozNotification||window.webkitNotification;if(i&&"granted"===i.permission){var o=new i(e,{icon:t,body:n});o.onclick=function(){},o.onerror=function(){},o.onshow=function(){setTimeout(o.close.bind(o),3e3)},o.onclose=function(){}}else{if(!i||"denied"===i.permission)return!1;i.requestPermission(function(t){if(i.permission!==t&&(i.permission=t),"granted"!==t)return!1;var o=new i(e,{icon:"http://www.omso2o.com/chat/images/header.jpg",body:n});o.onclick=function(){},o.onerror=function(){},o.onshow=function(){},o.onclose=function(){}})}};n.a=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),o=t(31),s=t.n(o),a=t(30);i.a.config.productionTip=!0,new i.a({el:"#chat-app",template:"<App/>",components:{App:s.a},store:a.a})},function(e,n,t){"use strict";var i=t(70),o=t.n(i),s=t(64),a=function(){var e=document.createElement("audio");e.src="/omsIm/source/layui/css/modules/layim/voice/default.wav",e.play()},r={complete:!1,onlineMan:0,onlineList:[],videoChatShow:!1,videoChatInfo:{}},c={SELF_LOGIN:function(e,n){e.onlineMan=0,e.onlineList=[];for(var t in n)-1===e.onlineList.indexOf(t)&&(e.onlineMan++,e.onlineList.push(t));e.complete=!0},LOGIN:function(e,n){e.onlineMan++},SAYUID:function(e,n){console.log(n)},LOGOUT:function(e){e.onlineMan--},VCSC:function(e){e.videoChatShow=!e.videoChatShow}},u={selfLogin:function(e,n){e.state;(0,e.commit)("SELF_LOGIN",n.data.client_list)},login:function(e,n){e.state;return(0,e.commit)("LOGIN",n),!1},logout:function(e,n){var t=e.state,i=e.commit;t.onlineList.forEach(function(e,i){e==n.from_uid_id&&t.onlineList.splice(i,1)}),i("LOGOUT")},ping:function(e){},say_uid:function(e,n){var i,r=(e.state,e.commit),c=(e.rootState,void 0);c="message"==n.mestype?n.sender_id:n.session_no;var u=(i={id:n.id,content:n.message_content,senderId:n.sender_id,dialogueId:c},o()(i,"senderId",n.sender_id),o()(i,"type",n.mestype),o()(i,"accept_id",n.to_uid),o()(i,"sendCliend_id",n.accClient_id),o()(i,"accClient_id",n.sendClient_id),o()(i,"acceptMode","s"),i);u.code=n.code,u.msg=n.msg,a(),t.i(s.a)("聊天消息",n.message_content,void 0),r("SEND_MESSAGE",u)},resSayUid:function(e,n){var t=(e.state,e.commit);e.rootState;"groupMessage"==n.mestype&&(n.to_uid=n.session_no);var i={id:n.id,content:n.message_content,senderId:n.sender_id,dialogueId:n.to_uid,type:n.mestype,sendCliend_id:n.accClient_id,accClient_id:n.sendClient_id,acceptMode:"r"};i.code=n.code,i.msg=n.msg,t("SEND_MESSAGE",i)},mes_close:function(e,n){var t=(e.state,e.commit);e.rootState;t("MES_CLOSE",n)},videoChat:function(e,n){var t=e.state;e.commit,e.rootState;t.videoChatShow=!0,t.videoChatInfo=n},videoResAnswerRes:function(e,n){var t=(e.state,e.commit);e.rootState;t("STATUS_CHANGE",{status:3}),t("GET_TOKEN",n)},videoChatShowChange:function(e){(0,e.commit)("VCSC")},revoke:function(e,n){(0,e.commit)("REVOKE",n)}},d={state:r,actions:u,mutations:c};n.a=d},function(e,n,t){"use strict";var i={status:1,videoChatInfo:{token:""}},o={STATUS_CHANGE:function(e,n){e.status=n.status},GET_TOKEN:function(e,n){e.videoChatInfo=n}},s={statusChange:function(e,n){var t=(e.state,e.commit);e.rootState;t("STATUS_CHANGE",n)},getToken:function(){}},a={state:i,actions:s,mutations:o};n.a=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},,,,,,,,function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADb0lEQVRYR8VXXVLTYBQ9N2UGpnmwPGiL0w51BcAKgEcNjmUF1hWAK6CswLIC6wooI9VHYAXWFVimHU31gTJjGRhNrnPz1y9pmlApQ546SXq/8517vnNPCA980QOvj6kAfP5RKFsW1olQDgG3eQCyz4zir/a0G0oFcHKRy11dLeyAuQLQatICzDwgoqaWwf7zJbNzGzCJAI57+V0w9ogo5xRjvgRwClBop0woE7ABYFlZtJHVr99uLg4GSUBiAciuh8OFQ6+oLHxkg+ovS+ZpUjGvRTUStogeCSMM2k763xgAh/Lh/IlH9zlgVabtrVPj90IThHUXsLU2qcYYgONevk2gFQZ/1fWbjTQKkxg57hUaBLx2tWFvxoEIAWh1CzUQ9maxuA/MBwFw2yj216KAAwBO//7yF1dwkym7jbLVd9yWLohoRaBvjKLZUJ8HAETxBHoH8IFR7O9Ou1DS+5++P6mwrR3GsaACcHo/y92roFrd/EBOhpbBM9UjAgCtXoHlD0bRDOlCWsPA8osl80wtmHTftqxcVHCtbuFUToXN2FSPZRgA48womWIozhXWxag1k+5/7BY2NMKJa1rYN0pmza/lCzyqgwgDYaVGCgbgJt0f6chxzSOj1K/cHoDXo2gLnGPEKNtATaUu7r5rQPMN15rtqtqG9BZ4PbpvEUbrqy2oAnjPwIetoim/Z3YFx5D5iIkGmQxq/kkIAHj0deSozJqFVq8go3lZhOk67WiToSOnmFE7q99s3mUOjFkx40ybQ9W28E1mw1apvyjvjA2jVjffBNErca27ggjmAPOlNkerQrvPhi/22HE8HM6fuq6IDmBt/884DvKEhBiyN/waviNOBCC0eIGkLqPUoUmzt188/dlMU6UbSHgHjKqXokJ5Qp5LCwCcG0XTyZWJkazVy9cBkoKOqzluBl6B5kUyCaMa5Zg5RyAxHSWs8kFWv6mpOgraq7hkMgAvH4BZ0k05LZTKzgBuahmqR0OpYsXnWf161Qd2OwAe9xJUCFQHh2M5Ew8AutD166O4kzPaeVgP6S3wGYgZLjEe780gSc2jixn7MqBc8GF7TgXgDB3wLsiuJZ0EV1y8C1cHajRXkISno/8g9cMkTflxz1u9x84HTFb/05Hh5PhKZDzfK4AoKJkFlqUN4r4P7oWBaVh7cAD/AEs9Hz/qVD98AAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABU0lEQVRYR+1X203EMBDcrQDogBKgg4wbATq4DoAKgA6oJAMdHBVwVHC5ChZtdIny8OUcKSJ82H+RdzaTcTTjVVl56crvlygBkoWZWYycqh4AbGN7UzivDyF8DnE9AiSfROQxQZVKRNAQIXkvIi8icpmAfQDw3tS1BEg6eJ/QoCnZArj1h7IsK1W9SMRWAK5iBAoRYWKTugxA/QEko8d1qleD8/2uAplAViArsLoC1yLyneoDZvYVQrhZzAeOjdwi7xJJtJZKcnO04hToMwC3/HqNwoikf9U5T98B2HXflohzG+4FWZSAmU36uqr+xAgk4EZJOkzDvziCNwB+ZP0jIDnrJxSRNg1zGGUFsgJZgaUUmHUt76bhnGu5mR1CCG3WDK04KdW8iaoW3cHEzF7PzQZH3CY6mAySzS8np9Yo0ZpCH82m8hjAx3D/fw6nKbeKpWp+AchGFzByLeL6AAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/gif;base64,R0lGODlhIAAgALMAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAAIAAgAAAE5xDISSlLrOrNp0pKNRCdFhxVolJLEJQUoSgOpSYT4RowNSsvyW1icA16k8MMMRkCBjskBTFDAZyuAEkqCfxIQ2hgQRFvAQEEIjNxVDW6XNE4YagRjuBCwe60smQUDnd4Rz1ZAQZnFAGDd0hihh12CEE9kjAEVlycXIg7BAsMB6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YEvpJivxNaGmLHT0VnOgGYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHQjYKhKP1oZmADdEAAAh+QQFBQAAACwAAAAAGAAXAAAEchDISasKNeuJFKoHs4mUYlJIkmjIV54Soypsa0wmLSnqoTEtBw52mG0AjhYpBxioEqRNy8V0qFzNw+GGwlJki4lBqx1IBgjMkRIghwjrzcDti2/Gh7D9qN774wQGAYOEfwCChIV/gYmDho+QkZKTR3p7EQAh+QQFBQAAACwBAAAAHQAOAAAEchDISWdANesNHHJZwE2DUSEo5SjKKB2HOKGYFLD1CB/DnEoIlkti2PlyuKGEATMBaAACSyGbEDYD4zN1YIEmh0SCQQgYehNmTNNaKsQJXmBuuEYPi9ECAU/UFnNzeUp9VBQEBoFOLmFxWHNoQw6RWEocEQAh+QQFBQAAACwHAAAAGQARAAAEaRDICdZZNOvNDsvfBhBDdpwZgohBgE3nQaki0AYEjEqOGmqDlkEnAzBUjhrA0CoBYhLVSkm4SaAAWkahCFAWTU0A4RxzFWJnzXFWJJWb9pTihRu5dvghl+/7NQmBggo/fYKHCX8AiAmEEQAh+QQFBQAAACwOAAAAEgAYAAAEZXCwAaq9ODAMDOUAI17McYDhWA3mCYpb1RooXBktmsbt944BU6zCQCBQiwPB4jAihiCK86irTB20qvWp7Xq/FYV4TNWNz4oqWoEIgL0HX/eQSLi69boCikTkE2VVDAp5d1p0CW4RACH5BAUFAAAALA4AAAASAB4AAASAkBgCqr3YBIMXvkEIMsxXhcFFpiZqBaTXisBClibgAnd+ijYGq2I4HAamwXBgNHJ8BEbzgPNNjz7LwpnFDLvgLGJMdnw/5DRCrHaE3xbKm6FQwOt1xDnpwCvcJgcJMgEIeCYOCQlrF4YmBIoJVV2CCXZvCooHbwGRcAiKcmFUJhEAIfkEBQUAAAAsDwABABEAHwAABHsQyAkGoRivELInnOFlBjeM1BCiFBdcbMUtKQdTN0CUJru5NJQrYMh5VIFTTKJcOj2HqJQRhEqvqGuU+uw6AwgEwxkOO55lxIihoDjKY8pBoThPxmpAYi+hKzoeewkTdHkZghMIdCOIhIuHfBMOjxiNLR4KCW1ODAlxSxEAIfkEBQUAAAAsCAAOABgAEgAABGwQyEkrCDgbYvvMoOF5ILaNaIoGKroch9hacD3MFMHUBzMHiBtgwJMBFolDB4GoGGBCACKRcAAUWAmzOWJQExysQsJgWj0KqvKalTiYPhp1LBFTtp10Is6mT5gdVFx1bRN8FTsVCAqDOB9+KhEAIfkEBQUAAAAsAgASAB0ADgAABHgQyEmrBePS4bQdQZBdR5IcHmWEgUFQgWKaKbWwwSIhc4LonsXhBSCsQoOSScGQDJiWwOHQnAxWBIYJNXEoFCiEWDI9jCzESey7GwMM5doEwW4jJoypQQ743u1WcTV0CgFzbhJ5XClfHYd/EwZnHoYVDgiOfHKQNREAIfkEBQUAAAAsAAAPABkAEQAABGeQqUQruDjrW3vaYCZ5X2ie6EkcKaooTAsi7ytnTq046BBsNcTvItz4AotMwKZBIC6H6CVAJaCcT0CUBTgaTg5nTCu9GKiDEMPJg5YBBOpwlnVzLwtqyKnZagZWahoMB2M3GgsHSRsRACH5BAUFAAAALAEACAARABgAAARcMKR0gL34npkUyyCAcAmyhBijkGi2UW02VHFt33iu7yiDIDaD4/erEYGDlu/nuBAOJ9Dvc2EcDgFAYIuaXS3bbOh6MIC5IAP5Eh5fk2exC4tpgwZyiyFgvhEMBBEAIfkEBQUAAAAsAAACAA4AHQAABHMQyAnYoViSlFDGXBJ808Ep5KRwV8qEg+pRCOeoioKMwJK0Ekcu54h9AoghKgXIMZgAApQZcCCu2Ax2O6NUud2pmJcyHA4L0uDM/ljYDCnGfGakJQE5YH0wUBYBAUYfBIFkHwaBgxkDgX5lgXpHAXcpBIsRADs="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC80lEQVRYR7XXjZFNQRAF4LMZyAARsBFYESACRIAIEIEVASJABIgAESACMqC+V9Nb8+6b+7MeU3Vr39070336dJ+emZMcN2625V/+1szJJRZeS3InyYMk5Xi6/GOSd0neJ/m+xfYWABy/SHK3GfyRRMTTqIHyXG3zAHmyBmQNwHmSR83gmyTe1+gG4nGS+22dNYAMxxyAK0k+tIjQyeAmSjsvmONc2qTmXpJfUxQjAL1zyBk5ZgAvhZi7PQUxAmDijSQPk7w+xnO3VuG+akwAcTGmACrn/yLyKfZi4mVL6e57D0DOvjUJVcXPEWCuav90SYYoQ01cr5rqARx8HBhXH/JZBfVzlNcFUBUkX2xcMFAfSE2+RuNZk6Q5fqtoNaJm/C7Z1VqqeT5QjzXm7lgoBio/pzMN5m0SDQi4kiPQfkuX76NBfntF16T9ufWG8wIgCvQyOh3oYqjkaI6KFoHf2HjaDHrXuNALrHyPlIYxPs/q4++F4uOcEws4Ik9gPAwVAO+C4Nj/ztozAlD1dtIDkC8Lp0POUM2ZNmtO3xVL46MU6KIjRRXoHQBG5WQOAFpF72+1UpGimgytpww10jcuIOcaWQE43QJAZD29qFUDX1tDqS24lAHcQc+f0LMHwDc1MMeA74xWxTPunWOsVOGWY4paa2R7KSgAc/kq8Ayr6l5WnCtMVe87ULrp2jZ/UIQWaq2ktTTUgnTI7agxVfTStDQOZLjUiHpDDHNeh45SSJ2aNDL0Lx1aquh3G15RtaUVFxD02QP0g1JD7Z7VG5aiH7ZiC7ZsRlWQ5jozGGpn2hvmABzsuKPt+GKnWskjKuXyMke1xe249K7B/I8DSUlv9kBSAVPErf90JNM59xQydygFQo6pA+JjRilM5+R8r0suHcvlCxObLhgDhP2FRuTkuelY3tvqLybkg40tFxN1VCervZxPga61TPP7C4Z3UUjR6GqGYr2h5Ll6odkCoEADgkaP1IwGqqXMs0melwEwcnj09fwPq13RgZB99AkAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA6ElEQVRYR+2XwQ3CMAxFXydBTAAjsAFsQJkAmADYACYANoBNYAPYgA2KXMVIqJe4iZocYinKxfb/+nESuyKxVYnxEQJT4Ox2Xz4PYAXIHmRC4AWMgLtnQiE8d3HjIHRoFWiAE7AxJDsCaxdvCOu6KoEDsDdkEt9dDgQMnDuuH2DbV4EZICvE5MibvgRCgDW2raOUBNo6yobABZA1pNVArQoMCfyHpQSuiRRYZlMD1pcwxpHldQuKAkWBokBRoChgbctj/AW/lkwHk5vnYBIDXIabBfDW0Uy6oUmMzIYcT+2IDDHxXZNPx18AfFVs1ylQrAAAAABJRU5ErkJggg=="},function(e,n,t){t(104);var i=t(3)(t(55),t(131),"data-v-64ddad67",null);e.exports=i.exports},function(e,n,t){t(105);var i=t(3)(t(56),t(132),"data-v-85197f68",null);e.exports=i.exports},function(e,n,t){t(106),t(107);var i=t(3)(t(57),t(133),"data-v-94df2816",null);e.exports=i.exports},function(e,n,t){t(103);var i=t(3)(t(58),t(130),"data-v-5c061ef4",null);e.exports=i.exports},function(e,n,t){t(108),t(109);var i=t(3)(t(59),t(134),"data-v-c6a57a00",null);e.exports=i.exports},function(e,n,t){t(102);var i=t(3)(t(60),t(129),"data-v-29892104",null);e.exports=i.exports},function(e,n,t){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{attrs:{id:"chat-app"}},[e.chatMainShow?e._e():i("div",{staticClass:"chat-min",attrs:{title:"按[esc]键最大化"},on:{click:function(n){e.chatMainShow=!e.chatMainShow}}},[e.mesNum>0?i("i",{staticClass:"mesNum"},[e._v("\n            "+e._s(e.mesNum>99?"99+":e.mesNum)+"\n        ")]):e._e(),e._v(" "),e._m(0)]),e._v(" "),e.searchFriendShow?i("searchOrg",{on:{close:function(n){e.searchFriendShow=!e.searchFriendShow}}}):e._e(),e._v(" "),e.videoChat?i("video-chat",{attrs:{videoChatType:e.videoChatType},on:{route:e.controller}}):e._e(),e._v(" "),e.videoChatShow?i("video-res",{attrs:{videoChatInfo:e.videoChatInfo},on:{route:e.videoResConttroll}}):e._e(),e._v(" "),e.videoChatIngShow?i("video-chat-ing",{attrs:{videochatIngInfo:e.videochatIngInfo},on:{route:e.videoChatIng}}):e._e(),e._v(" "),i("transition",{attrs:{name:"show"}},[e.chatMainShow?i("div",{ref:"chatDrop",staticClass:"chat-main",attrs:{id:"chat-main"}},[e.complete?e._e():i("div",{staticClass:"mask"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:t(119),alt:""}})])]),e._v(" "),i("div",{staticClass:"term"},[i("menuList",{on:{route:e.uiShow}})],1),e._v(" "),i("div",{staticClass:"sidebar"},[i("card",{on:{mainShow:function(n){e.mainShow=!1}}}),e._v(" "),i("list",{on:{mainShow:function(n){e.mainShow=!1},route:e.listR,perInfoShow:function(n){e.persInfo=!0}}})],1),e._v(" "),i("div",{}),e._v(" "),e.mainShow?e._e():i("div",{staticClass:"main"},[e.iPhone?e._e():i("div",{staticClass:"windowList"},[i("ul",[i("li",{attrs:{title:"按[esc]键最小化 "},on:{click:function(n){n.stopPropagation(),e.chatMainShow=!e.chatMainShow}}},[e._v("X")])])]),e._v(" "),i("message",{on:{mainShow:function(n){e.mainShow=!0},enlarge:e.imgShow}}),e._v(" "),e.dImgShow?i("imgFd",{attrs:{imgSrc:e.imgSrc},on:{close:function(n){e.dImgShow=!1}}}):e._e(),e._v(" "),e.persInfo?i("persInfo",{on:{imgShow:function(n){e.dImgShow=!0},close:function(n){e.persInfo=!1}}}):e._e(),e._v(" "),i("TextAre",{on:{enlarge:e.imgShow,route:e.controller}})],1),e._v(" "),e.mainShow?i("div",{staticClass:"dialog-title"},[i("i",{staticClass:"backSession",on:{click:function(n){n.stopPropagation(),e.chatMainShow=!1}}}),e._v(" "),i("span",{staticClass:"text-left dialogue-title-name"},[e._v("聊天")])]):e._e()]):e._e()])],1)},staticRenderFns:[function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("i",[i("img",{attrs:{src:t(117),alt:""}})])}]}},function(e,n,t){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"text-box"},[i("div",{attrs:{id:"media-list"}}),e._v(" "),e.progressShow?i("div",{staticClass:"progress"},[i("span",{ref:"runer",staticClass:"runer"})]):e._e(),e._v(" "),e.start?i("div",{staticClass:"text"},[e.showMessageLog?i("messagesLog",{attrs:{show:e.showMessageLog},on:{imgShow:e.messageImgFd,close:function(n){e.showMessageLog=!1}}}):e._e(),e._v(" "),e.sendImgShow?i("sendImg",{attrs:{src:e.sendImgSrcU},on:{close:function(n){e.sendImgShow=!1}}}):e._e(),e._v(" "),e.sondShow?i("div",{staticClass:"recording"},[e._m(0)]):e._e(),e._v(" "),i("div",{staticClass:"chat-tool"},[e.emShow?i("div",{staticClass:"emoticon"},[i("ul",{staticClass:"emoticon-list"},e._l(e.emojis,function(n,t){return i("li",{on:{click:function(t){t.stopPropagation(),e.emojiInsert(n)}}},[i("img",{attrs:{src:"http://www.omso2o.com/chatStatic/emoji/"+n.num+"@2x.png",title:n.name,alt:""}})])}))]):e._e(),e._v(" "),e.iphoneText?e._e():i("ul",[i("li",{on:{click:function(n){n.stopPropagation(),e.emShow=!e.emShow}}},[i("i",{staticClass:"iconfont-chat"},[e._v("")])]),e._v(" "),i("li",[e._m(1),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"chat-file",multiple:""},on:{change:function(n){e.fileUpload(n)}}})]),e._v(" "),i("li",{staticStyle:{float:"right","margin-right":"20px"},attrs:{title:"聊天记录"},on:{click:function(n){e.showMessageLog=!0}}},[i("img",{attrs:{src:t(120),alt:"聊天记录"}})])])]),e._v(" "),e.iphoneText?i("div",{staticClass:"tool-yuyin",on:{click:function(n){e.recorded()}}},[e.luyin?e._e():i("i",{staticClass:"iconfont-chat"},[e._v("")]),e.luyin?i("i",{staticClass:"iconfont-chat"},[e._v("")]):e._e()]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.luyin,expression:"luyin"},{name:"finger",rawName:"v-finger:touch-start",value:e.startRecording,expression:"startRecording",arg:"touch-start"},{name:"finger",rawName:"v-finger:touch-end",value:e.stopRecording,expression:"stopRecording",arg:"touch-end"}],staticClass:"press-to-speak-box"},[i("div",{staticClass:"press-to-speak"},[i("span",[e._v("按下说话")]),e._v(" "),e._e()])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.luyin,expression:"!luyin"}],ref:"textareaBox",staticClass:"textarea-box"},[e.iphoneText?e._e():i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"textarea",attrs:{placeholder:""},domProps:{value:e.content},on:{keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13))return null;e.onKeydown(n)},paste:function(n){e.pasteOver(n)},drop:function(n){e.dropFile(n)},input:function(n){n.target.composing||(e.content=n.target.value)}}}),e._v(" "),e.iphoneText?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"textarea",attrs:{id:"chat-input"},domProps:{value:e.content},on:{focus:function(n){e.inFocus()},keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13))return null;e.onKeydown(n)},paste:function(n){e.pasteOver()},input:[function(n){n.target.composing||(e.content=n.target.value)},function(n){e.HeightAuto(n)}]}}):e._e()]),e._v(" "),e.iphoneText?i("div",{staticClass:"tool-emoji",on:{click:function(n){n.stopPropagation(),e.emShow=!e.emShow}}},[i("i",{staticClass:"iconfont-chat"},[e._v("")])]):e._e(),e._v(" "),i("div",{staticClass:"send-act"},[i("div",{staticClass:"chat-send"},[!e.content&&e.iphoneText?i("label",{staticClass:"mul-function",attrs:{for:"chat-file"}},[i("i",{staticClass:"iconfont-chat"},[e._v("")])]):e._e(),e._v(" "),e.iphoneText?i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"chat-file",multiple:""},on:{change:function(n){e.fileUpload(n)}}}):e._e(),e._v(" "),e.content||!e.iphoneText?i("span",{staticClass:"send-btn",on:{click:function(n){e.send()}}},[e._v("发送")]):e._e(),e._v(" "),e.iphoneText?e._e():i("div",{staticClass:"send-select-box",on:{click:function(n){n.stopPropagation(),e.selShow=!e.selShow}}},[i("span",{staticClass:"send-select"})]),e._v(" "),e.selShow?i("ul",{ref:"ssl",staticClass:"send-select-list"},[i("li",{class:[1==e.currentSel?"active":""],on:{click:function(n){e.changeSend(1)}}},[e._v("按Enter 键发送")]),e._v(" "),i("li",{class:[1==e.currentSel?"":"active"],on:{click:function(n){e.changeSend(0)}}},[e._v("按Ctrl + Enter 键发送")])]):e._e()])])],1):e._e()])},staticRenderFns:[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"recording-voice"},[t("div",{staticClass:"voice-inner"},[t("div",{staticClass:"voice-icon"},[t("i",{staticClass:"iconfont-chat"},[e._v("")])]),e._v(" "),t("div",{staticClass:"voice-volume"},[t("span"),e._v(" "),t("span"),e._v(" "),t("span"),e._v(" "),t("span"),e._v(" "),t("span"),e._v(" "),t("span"),e._v(" "),t("span"),e._v(" "),t("span"),e._v(" "),t("span")])]),e._v(" "),t("p",[e._v("向上滑动取消发送")])])},function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("label",{attrs:{for:"chat-file"}},[i("img",{attrs:{src:t(121),alt:""}})])}]}},function(e,n,t){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"menu"},[i("ul",[i("li",{staticClass:"header-img",staticStyle:{position:"relative"},on:{click:function(n){n.stopPropagation(),e.showInfo()}}},[i("img",{attrs:{src:e.user.img,width:"40px",height:"40px",alt:""}}),e._v(" "),e.selfInfo?i("div",{ref:"si",staticClass:"selfInfo"},[i("div",[i("span",[e._v(e._s(e.user.name))])]),e._v(" "),i("div",[i("div",{staticClass:"selfInfo-img"},[i("img",{attrs:{src:"",width:"150",height:"150",src:e.user.img}})])])]):e._e()]),e._v(" "),i("li",{class:{actionColor:1==e.indexTab},on:{click:function(n){e.selectTab(1)}}},[i("i",{staticClass:"iconfont-chat"},[e._v("")])]),e._v(" "),i("li",{class:{actionColor:2==e.indexTab},on:{click:function(n){e.selectTab(2)}}},[i("i",{staticClass:"iconfont-chat"},[e._v("")]),e.newFriendNum?i("span",{staticClass:"newFriend"},[e._v(e._s(e.newFriendNum))]):e._e()]),e._v(" "),i("li",{class:{actionColor:3==e.indexTab},on:{click:function(n){e.selectTab(3)}}},[i("i",{staticClass:"iconfont-chat"},[e._v("")])])]),e._v(" "),i("div",{staticClass:"chat-set",attrs:{title:"设置"}},[i("i",{on:{click:function(n){n.stopPropagation(),e.setShow=!e.setShow}}},[i("img",{attrs:{src:t(118),alt:""}})]),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.setShow?i("ul",{staticClass:"chat-set-list"},[i("li",[i("a",{attrs:{target:"_blank",href:"/chat/new_groupChat.php"}},[e._v("新建群聊")])]),e._v(" "),i("li",{on:{click:function(n){e.$emit("route",{},"addFriend")}}},[i("span",[e._v("添加好友")])]),e._v(" "),e._l(e.sets,function(n,t){return i("li",{on:{click:function(n){n.stopPropagation(),e.setUser(t)}}},[e._v(e._s(n[e.userSet[t]]))])})],2):e._e()])],1)])},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"card"},[e.onlineShow?t("div",{staticClass:"online-man-box"},[t("onlineMan",{on:{close:function(n){e.onlineShow=!1},mainShow:function(n){e.$emit("mainShow")}}})],1):e._e(),e._v(" "),t("div",{staticClass:"online-man",on:{click:function(n){e.onlineShowFun()}}},[t("i",{staticClass:"iconfont-chat"},[e._v("")]),t("span",{staticClass:"online"},[e._v(e._s(e.online)+"人")])]),e._v(" "),t("input",{staticClass:"search",attrs:{type:"text",placeholder:"搜索"},on:{input:e.onKeyup}})])},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"friend-list"},[t("div",{on:{click:function(n){e.open()}}},[t("i",{staticClass:"iconfont-chat"},[e._v(e._s(e.openFun?"":""))]),e._v(" "),t("p",{staticClass:"list-name"},[e._v(e._s(e.item.groupname))]),e._v(" "),(1==e.item.id?e.newFriendNum:e.item.list.length)?t("span",{class:{newFriendNum:1==e.item.id,friendsNum:1!=e.item.id},attrs:{d:e.item.id}},[e._v(e._s(1==e.item.id?e.newFriendNum:e.item.list.length))]):e._e()]),e._v(" "),e.openFun?t("ul",[e._l(e.item.list,function(n){return t("li",{class:{active:n.id===e.currentId},on:{click:function(t){e.selectSession(n.id,"message",n.username,n.avatar,e.item.id,n)}}},[t("img",{attrs:{src:n.avatar,alt:"",width:"40",height:"40"}}),e._v(" "),t("p",{staticClass:"name",staticStyle:{display:"inline-block","font-size":"18px",margin:"0",width:"125px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:"#000"}},[e._v(e._s(n.username))]),e._v(" "),1==n.state?t("i",{staticClass:"friendNew"}):e._e(),e._v(" "),1==e.item.id?t("span",{staticClass:"friendApply"},[e._v(e._s(1==n.state?"等待验证":"好友申请"))]):e._e()])}),e._v(" "),0==e.item.list.length?t("li",[e._v("没有数据！")]):e._e()],2):e._e()])},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"list"},[e.friendApplyShow?t("div",{staticClass:"friendApply-box"},[t("friendApply",{attrs:{applyerId:e.friendApplyId,friendsApplyState:e.friendsApplyState},on:{friendApplyClose:function(n){e.friendApplyShow=!1}}})],1):e._e(),e._v(" "),e.mousedownShow?t("div",{ref:"recentContactsDel",staticClass:"rcDel"},[t("ul",[t("li",{on:{click:function(n){e.removeZjlxr()}}},[e._v("移除该会话")])])]):e._e(),e._v(" "),e.filterKey?t("div",{staticClass:"search"},[e._l(e.searchFriend,function(n){return t("div",{},[n.list.length?t("div",[t("p",{staticClass:"search-list-name"},[e._v(e._s(n.name))]),e._v(" "),n.list.length?t("ul",{staticClass:"search-list"},e._l(n.list,function(i){return n.list?t("li",{class:{active:i.id===e.currentId},on:{click:function(t){e.searchSelectSession(i.id,"message",i.username,i.avatar,n.name)}}},[t("div",{staticClass:"icon-avatar",on:{click:function(n){e.perInfo(i.type)}}},[t("img",{staticClass:"avatar",attrs:{width:"48",height:"48",alt:i.username,src:""+i.avatar}})]),e._v(" "),t("div",[t("p",{staticClass:"name"},[e._v(e._s(i.username))])])]):e._e()})):e._e()]):e._e()])}),e._v(" "),e.searchGroup.length?t("ul",{staticClass:"list-item"},e._l(e.searchGroup,function(n){return t("li",{on:{click:function(t){e.selectSession(n.id,"groupMessage",n.groupname,n.avatar)}}},[t("img",{staticClass:"avatar",attrs:{width:"40",height:"40",alt:n.groupname,src:""+n.avatar}}),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(n.groupname))])])})):e._e()],2):e._e(),e._v(" "),1==e.indexTab?t("div",{attrs:{id:"zjlxr-box"}},[t("ul",{directives:[{name:"oncontextmenu",rawName:"v-oncontextmenu",value:e.sessions,expression:"sessions"}],staticClass:"list-item",attrs:{id:"zjlxr"}},[e.sessions.length<=0?t("li",{staticStyle:{"text-align":"center"}},[e._v("还没有最近联系人！")]):e._e(),e._v(" "),e._l(e.sessions,function(n,i){return t("li",{directives:[{name:"finger",rawName:"v-finger:swipe",value:e.swipe,expression:"swipe",arg:"swipe"}],key:i,class:{active:n.id===e.currentId&&n.type===e.currentType},on:{click:function(t){e.selectSession(n.id,n.type,n.user.name,n.user.img)},mousedown:function(t){if(!("button"in t)&&3!==t.keyCode)return null;e.mousedown(n,i,t)}}},[t("div",{staticClass:"list-info"},[t("div",{staticClass:"icon-avatar",on:{click:function(t){e.perInfo(n.type)}}},[t("img",{staticClass:"avatar",attrs:{width:"48",height:"48",alt:n.user.name,src:n.user.img}})]),e._v(" "),t("div",{staticClass:"list-text"},[t("div",{staticClass:"list-time"},[n.messages.length>0?t("span",{staticClass:"list-message-name"},[e._v(e._s(e._f("time")(n.messages[n.messages.length-1].date)))]):e._e()]),e._v(" "),t("div",{staticClass:"list-name"},[t("p",{staticClass:"name"},[e._v(e._s(n.user.name))])]),e._v(" "),n.messages.length>0?t("div",{staticClass:"list-message"},[t("span",{staticClass:"list-message-name"},[e._v(e._s(n.messages[n.messages.length-1].self||"message"==n.type?"":n.messages[n.messages.length-1].name+":"))]),e._v(" "),n.revokeState?t("span",[e._v('"已撤销"')]):t("span",[e._v(e._s(e._f("content")(n.messages[n.messages.length-1].content)))])]):e._e()])]),e._v(" "),n.messageNum?t("span",{staticClass:"message-num"},[e._v(e._s(n.messageNum))]):e._e(),e._v(" "),t("div",{staticClass:"list-act-box"},[t("div",{staticClass:"list-act-sign",on:{click:function(t){t.stopPropagation(),e.signReaded(i,n.messageNum,t)}}},[n.messageNum?t("span",[e._v("标记为已读")]):e._e(),e._v(" "),n.messageNum?e._e():t("span",[e._v("标记为未读")])]),e._v(" "),t("div",{staticClass:"list-act-del",on:{click:function(n){n.stopPropagation(),e.delzjlxr(i,n)}}},[t("span",[e._v("删除")])])])])})],2)]):e._e(),e._v(" "),2==e.indexTab?t("div",{staticClass:"friend-list-box"},[t("ul",{staticClass:"friend-list list-item"},[t("li",{staticClass:"friend-add",on:{click:function(n){e.$emit("route",{},"friendAdd")}}},[t("span",{staticClass:"friend-add-icon"},[e._v("+")]),e._v("添加好友")]),e._v(" "),e._l(e.friends,function(n,i){return t("li",{staticClass:"chat-friend-list"},[t("friends-list",{attrs:{item:n},on:{fmainShow:function(n){e.$emit("mainShow")},friendsApple:e.friendApply}})],1)})],2)]):e._e(),e._v(" "),3==e.indexTab?t("div",{staticClass:"group-list-box"},[t("ul",{staticClass:"group-list list-item"},e._l(e.group,function(n){return t("li",{on:{click:function(t){e.selectSession(n.id,"groupMessage",n.groupname,""+n.avatar)}}},[t("img",{staticClass:"avatar",attrs:{src:""+n.avatar,width:"40",height:"40"}}),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(n.groupname))])])}))]):e._e()])},staticRenderFns:[]}},function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"message"},[t("audio",{ref:"audio"}),e._v(" "),e.shareShow?t("shareModel",{attrs:{group:!0},on:{selectedMan:e.share,close:function(n){e.shareShow=!1}}}):e._e(),e._v(" "),t("transition",{attrs:{name:"slide-groupMan"}},[e.groupManShow?t("div",{staticClass:"groupMan"},[t("groupMan",{on:{imgShow:e.messageImgFd}})],1):e._e()]),e._v(" "),e.persInfo?t("persInfo",{on:{imgShow:e.messageImgFd,close:function(n){e.persInfo=!1}}}):e._e(),e._v(" "),e.showMessageLog?t("messagesLog",{attrs:{show:e.showMessageLog},on:{imgShow:e.messageImgFd,close:function(n){e.showMessageLog=!1}}}):e._e(),e._v(" "),e.forwardInfo.mouseLeftShow?t("div",{ref:"mouseLeft",staticClass:"mouseLeft"},[t("ul",[e.forwardInfo.messageOfSelf?t("li",{on:{click:function(n){e.revoke()}}},[e._v("撤回")]):e._e(),e._v(" "),t("li",{on:{click:function(n){e.forward(e.forwardInfo.forwardContent)}}},[e._v("转发")])])]):e._e(),e._v(" "),t("div",{directives:[{name:"chat-drop",rawName:"v-chat-drop"}],staticClass:"dialog-title"},[t("i",{staticClass:"backSession",on:{click:function(n){e.clearSession()}}}),e._v(" "),t("span",{staticClass:"text-left dialogue-title-name"},[e._v(e._s(e.dialogName))]),e._v(" "),e.dialogName?t("i",{staticClass:"iconfont-chat man-info",attrs:{class:"iconfont-chat man-info"},on:{click:function(n){n.stopPropagation(),e.userInfo()}}},[e._v("")]):e._e()]),e._v(" "),e.session?t("ul",{directives:[{name:"scroll-bottom",rawName:"v-scroll-bottom",value:e.showMessageLog,expression:"showMessageLog"}]},[e.session.messages.length>20?t("li",{staticClass:"catMul",on:{click:function(n){e.showMessageLog=!0}}},[e._v("查看更多")]):e._e(),e._v(" "),e._l(e.session.messages,function(n){return t("li",[t("p",{staticClass:"time"},[t("span",[e._v(e._s(e._f("time")(n.date)))])]),e._v(" "),t("div",{staticClass:"main",class:{self:n.self}},[t("img",{staticClass:"avatar",attrs:{width:"40",height:"40",src:n.self?e.user.img:n.img},on:{click:function(t){e.appoint(n.name)}}}),e._v(" "),"groupMessage"!=e.dialogType||n.self?e._e():t("div",{staticClass:"groupName"},[e._v(e._s(n.name))]),e._v(" "),t("div",{staticClass:"content-box",attrs:{"data-content":n.content}},[t("div",{class:{"content-act":!0,"content-act-right":!n.self,"content-act-left":n.self}},[t("div",{class:{"content-act-list":!0,"content-box-d":n.self}},[t("ul",[n.self?t("li",{on:{click:function(n){e.revoke()}}},[e._v("撤回")]):e._e(),e._v(" "),t("li",{on:{click:function(t){t.stopPropagation(),e.forward(n.content)}}},[t("span",[e._v("转发")])])])])]),e._v(" "),n.revokeState?t("div",{staticClass:"messageRevoke"},[e._v("\n                        \n                        "+e._s(n.self?"你撤销了一条消息":n.name+"撤销了一条消息")+"\n                    ")]):t("div",{directives:[{name:"finger",rawName:"v-finger:long-tap",value:e.longTop,expression:"longTop",arg:"long-tap"},{name:"oncontextmenu",rawName:"v-oncontextmenu",value:n.content,expression:"item.content"}],staticClass:"text",domProps:{innerHTML:e._s(e.content(n.content,n.self))},on:{contextmenu:function(t){e.mouseLeft(t,n.content,n.id,n.self)},click:function(n){e.sendType(n)}}})])])])})],2):e._e()],1)},staticRenderFns:[]}},,function(e,n){},,,function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA7klEQVRYR8XX2w3CMAwFUHsDNqFsBJvBJLABjMIGRpZSKaqA+HGd9qcfjXpPnMppmHa+eOd8ggNE5EBEdyLS+4mZ3/8mCQV04UsLVcBrCuBL+I2Zz6MlhlQgGq64NCATngZkw1MARHgYgAoPAZDhbgA63AWoCDcDqsI9AG2nx9bVTB1u1AHX58NGJCLa158V4aYKbABXZr5YZ2cZN6yAvkRE+iWAIqwA3dsf3XcAQ5gArQolCDOgCuECVCDcADQiBEAiwgAUIgVAINKALAICyCBggB+IeQeTdeNp/w7atrVzLlOPZpbdbzsGugQRwAer+YwhngFifgAAAABJRU5ErkJggg=="}],[65]);