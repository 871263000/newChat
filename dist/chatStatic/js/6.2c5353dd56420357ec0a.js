webpackJsonp([6],{101:function(o,i,n){n(135);var e=n(2)(n(110),n(149),"data-v-6532cfb2",null);o.exports=e.exports},110:function(o,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n(0),t=n(1),s=n(19);e.a.use(s.a),e.a.component("messagesLog",function(o){n.e(0).then(function(){var i=[n(21)];o.apply(null,i)}.bind(this)).catch(n.oe)}),e.a.component("addNewGrouper",function(o){n.e(10).then(function(){var i=[n(143)];o.apply(null,i)}.bind(this)).catch(n.oe)}),i.default={data:function(){return{groupInfo:{list:[]},showMessageLog:!1,msg:"",addNewGrouperShow:!1}},computed:n.i(t.b)({user:function(o){return o.user},currentSession:function(o){return o.currentSession}}),methods:{selectSession:function(o,i,n,e){this.$emit("mainShow");var t={id:o,type:i,name:n,img:e};this.$store.dispatch("selectSession",t)},addNewGrouper:function(){this.addNewGrouperShow=!0},quitNewGrouper:function(){if(this.user.id!=this.groupInfo.group_founder){if(!confirm("你确定要解散该群吗？"))return!1}else if(!confirm("你确定要退出该群吗？"))return!1;var o={class:"delGrouper",id:this.currentSession.id};this.$http.post("/omsIm/demo/json/getList.php",o,{emulateJSON:!0}).then(function(o){alert("ok！")}).catch(function(o){})},delGrouper:function(o){if(this.user.id!=this.groupInfo.group_founder)return alert("只有群创建者能删除！"),!1;if(confirm("你确定要把他移除群吗？")){var i={class:"delGroupers",session:this.currentSession.id,id:o};this.$http.post("/omsIm/demo/json/getList.php",i,{emulateJSON:!0}).then(function(o){}).catch(function(o){})}}},created:function(){var o=this;this.$http.get("/omsIm/demo/json/getList.php?class=groupMembers&id="+this.currentSession.id).then(function(i){o.groupInfo=i.data.data}).catch(function(o){})}}},124:function(o,i,n){i=o.exports=n(96)(!1),i.push([o.i,"@media screen and (max-width:500px){.person-info[data-v-6532cfb2]{position:absolute;top:0;left:0;height:100%;width:100%;z-index:99999;background-color:#fff}.person-info .dialog-title[data-v-6532cfb2]{height:45px;border-bottom:1px solid #ccc;cursor:move;background-color:#303036;color:#fff;text-align:center}.person-info .dialog-title .dialogue-title-name[data-v-6532cfb2]{height:100%;line-height:45px;font-size:20px;display:inline-block}.person-info .dialog-title .backSession[data-v-6532cfb2]{position:absolute;top:0;left:10px;display:inline-block;width:32px;height:45px;line-height:45px;background:url("+n(98)+") 50% no-repeat}.person-info .dialog-title .man-info[data-v-6532cfb2]{position:absolute;top:0;right:10px;display:inline-block;width:32px;height:45px;line-height:45px;font-size:26px}.person-info .person-info-body[data-v-6532cfb2]{padding:20px 10px}.person-info .person-info-body .chat-record[data-v-6532cfb2]{padding:20px}.person-info .person-info-body .chat-record li[data-v-6532cfb2]{padding:10px}.person-info .person-info-body .chat-record span[data-v-6532cfb2]{font-size:18px}.person-info .person-info-body .chat-record i[data-v-6532cfb2]{font-size:26px;padding:0 0 0 10px}.person-info .person-info-body .send-message-box[data-v-6532cfb2]{display:none}.person-info .addMan[data-v-6532cfb2]{float:right;padding:13px;font-size:20px}.person-info .pc-add-grouper[data-v-6532cfb2]{display:none}.person-info .group-list[data-v-6532cfb2]{max-height:200px;overflow:auto}.person-info .group-list .delGrouper[data-v-6532cfb2]{display:none}.person-info .group-list ul li[data-v-6532cfb2]{padding:12px;margin:0 10px;display:inline-block}.person-info .group-list ul li .group-list-img[data-v-6532cfb2],.person-info .group-list ul li .group-list-img img[data-v-6532cfb2]{width:40px;height:40px}.person-info .group-list ul li .group-list-name[data-v-6532cfb2]{text-align:center}.person-info .delGroup[data-v-6532cfb2]{display:none}.person-info .iPhone-delGroup[data-v-6532cfb2]{cursor:pointer;text-align:center;margin:10px}.person-info .iPhone-delGroup span[data-v-6532cfb2]{color:#ca3f3f}}@media screen and (min-width:500px){.person-info[data-v-6532cfb2]{position:absolute;top:0;left:0;height:100%;width:100%;z-index:99999;background-color:#fff}.person-info .dialog-title[data-v-6532cfb2]{display:none}.person-info .pc-add-grouper[data-v-6532cfb2]{cursor:pointer;padding:10px;position:relative;z-index:2}.person-info .pc-add-grouper li[data-v-6532cfb2]{padding:12px}.person-info .pc-add-grouper i[data-v-6532cfb2]{padding:12px;font-size:20px}.person-info .pc-add-grouper span[data-v-6532cfb2]{padding:12px}.person-info .person-info-body[data-v-6532cfb2]{padding:20px 50px}.person-info .person-info-body .chat-record[data-v-6532cfb2]{border-top:1px solid #ccc;padding:20px}.person-info .person-info-body .chat-record li[data-v-6532cfb2]{padding:10px}.person-info .person-info-body .chat-record span[data-v-6532cfb2]{font-size:18px}.person-info .person-info-body .chat-record i[data-v-6532cfb2]{font-size:26px;padding:0 0 0 10px}.person-info .person-info-body .send-message-box[data-v-6532cfb2]{text-align:center}.person-info .person-info-body .send-message-box .send-message[data-v-6532cfb2]{cursor:pointer;background-color:#79b575;color:#fff;padding:3px 40px;display:inline-block;line-height:30px;text-align:center;margin:3px 32px}.person-info .person-info-body[data-v-6532cfb2]{display:none}.person-info .group-list[data-v-6532cfb2]{overflow:auto;position:relative;height:100%;top:-112px}.person-info .group-list .delGrouper[data-v-6532cfb2]{display:none}.person-info .group-list ul[data-v-6532cfb2]{position:absolute;top:100px;bottom:44px;width:100%;overflow:auto}.person-info .group-list ul li[data-v-6532cfb2]{position:relative;padding:12px;margin:0 10px}.person-info .group-list ul li div[data-v-6532cfb2]{display:inline-block}.person-info .group-list ul li .group-list-img[data-v-6532cfb2],.person-info .group-list ul li .group-list-img img[data-v-6532cfb2]{width:40px;height:40px}.person-info .group-list ul li .group-list-name[data-v-6532cfb2]{text-align:center}.person-info .group-list ul li:hover .delGrouper[data-v-6532cfb2]{cursor:pointer;position:absolute;top:21px;right:10px;display:inline-block}.person-info .group-list .delGroup[data-v-6532cfb2]{text-align:center;position:absolute;bottom:0;width:100%;height:38px;line-height:38px}.person-info .group-list .delGroup span[data-v-6532cfb2]{padding:12px;color:#ca1010}}",""])},135:function(o,i,n){var e=n(124);"string"==typeof e&&(e=[[o.i,e,""]]),e.locals&&(o.exports=e.locals);n(97)("5226982a",e,!0)},149:function(o,i){o.exports={render:function(){var o=this,i=o.$createElement,n=o._self._c||i;return n("div",{staticClass:"person-info"},[o.addNewGrouperShow?n("addNewGrouper",{attrs:{id:this.currentSession.id},on:{close:function(i){o.addNewGrouperShow=!1}}}):o._e(),o._v(" "),o.showMessageLog?n("messagesLog",{attrs:{show:o.showMessageLog},on:{close:function(i){o.showMessageLog=!1}}}):o._e(),o._v(" "),n("div",{directives:[{name:"chat-drop",rawName:"v-chat-drop"}],ref:"chatDrop",staticClass:"dialog-title"},[n("i",{staticClass:"backSession",on:{click:function(i){o.$emit("close")}}}),o._v(" "),n("span",{staticClass:"text-left dialogue-title-name"},[o._v(o._s(o.currentSession.name+"详情"))]),o._v(" "),o.currentSession.id!="all"+o.user.omsId?n("i",{staticClass:"iconfont-chat addMan",on:{click:function(i){i.stopPropagation(),o.addNewGrouper()}}},[o._v("")]):o._e()]),o._v(" "),n("div",{staticClass:"pc-add-grouper"},[n("ul",[n("li",[n("i",{staticClass:"iconfont-chat"},[o._v("")]),n("span",[o._v("("+o._s(o.groupInfo.list.length)+")")])]),o._v(" "),o.currentSession.id!="all"+o.user.omsId?n("li",{on:{click:function(i){i.stopPropagation(),o.addNewGrouper()}}},[n("i",{staticClass:"iconfont-chat"},[o._v("")]),n("span",[o._v("添加新成员")])]):o._e()])]),o._v(" "),n("div",{staticClass:"group-list"},[n("ul",o._l(o.groupInfo.list,function(i){return n("li",{on:{click:function(n){o.selectSession(i.id,"message",i.username,i.avatar)}}},[n("div",{staticClass:"group-list-img"},[n("img",{attrs:{src:i.avatar}})]),o._v(" "),n("div",{staticClass:"group-list-name"},[n("span",[o._v(o._s(i.username))])]),o._v(" "),n("span",{staticClass:"delGrouper",on:{click:function(i){i.stopPropagation(),o.delGrouper()}}},[o._v("X")])])})),o._v(" "),n("div",{staticClass:"delGroup",on:{click:function(i){o.quitNewGrouper()}}},[n("span",[o.user.id!=o.groupInfo.group_founder&&o.currentSession.id!="all"+o.user.omsId?n("span",[o._v("退出群聊")]):n("span",[o.currentSession.id!="all"+o.user.omsId?n("span",[o._v("解散该群")]):o._e()])])])]),o._v(" "),n("div",{staticClass:"person-info-body"},[n("div",{staticStyle:{clear:"both"}}),o._v(" "),n("div",{staticClass:"chat-record"},[n("ul",[n("li",{on:{click:function(i){i.stopPropagation(),o.showMessageLog=!0}}},[n("span",[o._v("聊天记录: ")]),n("i",{staticClass:"iconfont-chat"},[o._v("")])]),o._v(" "),n("li",{staticClass:"iPhone-delGroup",on:{click:function(o){o.stopPropagation()}}},[o.user.id!=o.groupInfo.group_founder?n("span",[o._v("退出群聊")]):n("span",[o.currentSession.id!="all"+o.user.omsId?n("span",[o._v("解散该群")]):o._e()])])])]),o._v(" "),n("div")])],1)},staticRenderFns:[]}}});